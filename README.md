## ОписаниеПример реализации gRPC-сервера на Rust, предназначенного для транскрибации аудио (перевода речи в текст) без использования внешних Speech API. Используется [Tonic](https://github.com/hyperium/tonic) для реализации gRPC и открытая модель [Vosk](https://alphacephei.com/vosk).По необходимости можно поменять модель на любую из [доступного списка](https://alphacephei.com/vosk/models). Для этого достаточно её скачать, и положить в директорию `./model`. Так же не забыть указать путь в `config.yaml`.По умолчанию используется портативная `vosk-model-small-ru-0.22`.Так же в в `config.yaml` можно установить значение для поля `pause_threshold`.Оно устанавливает длительность пауз для разделения речи на фразы. По дефолту `pause_threshold` = 500mc.Поле `split_into_phrases` отвечает за включение/отключение разбивки транскрибированного текста на фразы (на основе значения из `pause_threshold`).Поле `max_alternatives` рекомендуется устанавливать значением равным нулю.Если выставить параметр отличным от нуля, то будет возвращен максимально правдоподобный результат из данного количества альтернатив.На данном этапе доступно распознавание аудио форматов `WAV_PCM_S16LE`, `RAW_PCM_S16LE`, `RAW_PCM_S16BE`.При использовании собственного аудиофайла убедитесь, что он имеет правильный формат - PCM 16khz 16bit mono. В противном случае, если у вас установлен `ffmpeg`, вы можете использовать его, для конвертации.### ИспользованиеДля отправки запроса на сервер возьмите `transcribe.proto` (из директории `./proto`), и используйте в своем клиенте.Проверить работоспособность можно например через Postman.Cтруктура запроса:```Json{  "config": {    "sample_rate": 16000,    "max_alternatives": 0,    "split_into_phrases": true,    "audio_type": "WAV_PCM_S16LE"  },  "content": "audio in base64 format"}```В результате распознавания сервер вернёт JSON вида:```Json{  "phrases": [    {      "words": [        {          "word": "hello",          "startMs": 60,          "endMs": 480        },        {          "word": "world",          "startMs": 540,          "endMs": 715        }      ],      "text": "hello world"    },    {      "words": [        {          "word": "you",          "startMs": 1200,          "endMs": 1450        },        {          "word": "are",          "startMs": 1590,          "endMs": 1710        },        {          "word": "beautiful",          "startMs": 1800,          "endMs": 2100        }      ],      "text": "you are beautiful"    }  ],  "text": "hello world you are beautiful"}```### Локальный запуск1) Для установки `Rust` на unix подобные системы (MacOS, Linux, ...) - запускаем в терминале команду.По окончании загрузки вы получите последнюю стабильную версию Rust для вашей платформы, а так же последнюю версию Cargo.```shellcurl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh```2) Для проверки выполните следующую команду в терминале.```shellcargo --version```3) Открываем проект, и запускаем команды.```shellcargo check   // Проверяет код на возможность компиляции (без запуска).cargo run     // Сборка + запуск проекта```UDP: Если вдруг у вас Windows, посмотрите [Инструкцию тут](https://forge.rust-lang.org/infra/other-installation-methods.html)4) Скорее всего вам понадобится [установка Vosk](https://alphacephei.com/vosk/install).В простом варианте достаточно выполнить следующую команду.```shellpip3 install vosk```